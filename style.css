:root{
  --bg: #e9f7ff;
  --card: #ffffff;
  --accent: #0277bd;
  --success: #2ecc71;
  --danger: #ff6b6b;
  --muted: #6b7a86;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter, "Segoe UI", Roboto, Arial, sans-serif;
  background: linear-gradient(180deg,var(--bg),#ffffff);
  min-height:100vh;
  color:#0f1720;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:30px;
}

.app{
  width:100%;
  max-width:840px;
  background:var(--card);
  border-radius:14px;
  padding:20px;
  box-shadow:0 12px 30px rgba(10,20,30,0.08);
  animation: fadeIn 0.6s ease-out; /* NEW */
}

header h1{margin:0 0 6px 0; font-size:1.5rem}
.subtitle{margin:0 0 18px 0; color:var(--muted)}

/* Drop area */
.drop-area{
  border:2px dashed rgba(2,119,189,0.18);
  border-radius:10px;
  padding:24px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:background .15s, border-color .15s, transform 0.3s ease; /* NEW */
  background:linear-gradient(180deg,#f7fdff,#ffffff);
}

.drop-area.dragover{
  background:#2ca1d8;
  border-color:var(--accent);
  transform: scale(1.02); /* NEW */
}

.drop-inner{ text-align:center; padding:4px 12px }
.small{ margin:6px 0; color:var(--muted) }
.hint{ font-size:12px; color:var(--muted); margin-top:8px }

.btn-choose{
  display:inline-block;
  background:var(--accent);
  color:white;
  padding:8px 12px;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
  transition: transform 0.2s ease; /* NEW */
}
.btn-choose:hover{ transform: translateY(-2px) scale(1.05); } /* NEW */
.btn-choose input{ display:none }

.preview{
  margin-top:18px;
  display:flex;
  gap:14px;
  align-items:center;
  justify-content:center;
  flex-direction:column;
}

.preview img, .preview video{
  max-width:380px;
  width:100%;
  border-radius:10px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
}

.analysis-area{ margin-top:18px }
.hidden{ display:none !important; }

.progress-wrap{
  height:12px;
  background:rgba(0,0,0,0.06);
  border-radius:999px;
  overflow:hidden;
  margin-bottom:10px;
}
.progress-bar{
  width:0%;
  height:100%;
  background:linear-gradient(90deg,var(--accent),#4db6ff);
  transition:width .3s linear;
}

.analysis-text{ color:var(--muted); margin-bottom:8px }

.result-box{
  margin-top:10px;
  text-align:left;
  background:linear-gradient(180deg,#fbfeff,#ffffff);
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(0,0,0,0.03);
  animation: fadeInUp 0.5s ease; /* NEW */
}

.result-box h2{ margin:0 0 6px 0 }
.health-sheet{
  margin-top:10px;
  background:#f6f9ff;
  padding:10px;
  border-radius:8px;
  color:#0f1720;
  font-size:14px;
  line-height:1.4;
}

.actions{ margin-top:12px; display:flex; gap:8px; justify-content:flex-end }
button{
  background:var(--accent);
  color:white;
  border:none;
  padding:8px 12px;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
  transition: transform 0.2s ease, background 0.2s ease; /* NEW */
}
button:hover{
  transform: translateY(-2px) scale(1.05); /* NEW */
  background: #039be5; /* NEW */
}
button:active{ transform:translateY(1px) }

/* Loader spinner (NEW) */
.fun-loader{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
  margin-bottom:12px;
}
.spinner{
  width:30px;
  height:30px;
  border:4px solid rgba(0,0,0,0.1);
  border-top-color: var(--accent);
  border-radius:50%;
  animation: spin 1s linear infinite;
}
@keyframes spin{
  to { transform: rotate(360deg); }
}

/* Animations (NEW) */
@keyframes fadeIn{
  from{opacity:0;}
  to{opacity:1;}
}
@keyframes fadeInUp{
  from{opacity:0; transform:translateY(10px);}
  to{opacity:1; transform:translateY(0);}
}
@keyframes slideDown{
  from{opacity:0; transform:translateY(-10px);}
  to{opacity:1; transform:translateY(0);}
}
@keyframes slideUp{
  from{opacity:0; transform:translateY(10px);}
  to{opacity:1; transform:translateY(0);}
}

.fade-in{ animation: fadeIn 0.6s ease-out; }
.slide-down{ animation: slideDown 0.6s ease-out; }
.slide-up{ animation: slideUp 0.6s ease-out; }
.bounce-hover:hover{ transform: scale(1.03); }

/* dark-mode when fish dies */
body.dark-mode{
  background:linear-gradient(180deg,#141821,#0b0f14);
  color:#e6eef8;
}
body.dark-mode .app{ background:#0f1720; box-shadow:0 12px 40px rgba(0,0,0,0.6) }
body.dark-mode .drop-area{ background:linear-gradient(180deg,#0b1e2a,#07101a) }
body.dark-mode .result-box{ background:linear-gradient(180deg,#07161f,#0b1b24) }

/* Animated Bubbles Background */
.bubbles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1; /* Behind content */
  overflow: hidden;
  background: linear-gradient(to bottom, #d3f2ff, #88d0f5);
}

.bubbles span {
  position: absolute;
  bottom: -120px;
  background: rgba(255, 255, 255, 0.5); /* Brighter bubble */
  border-radius: 50%;
  animation: rise 14s infinite ease-in;
  box-shadow: inset -3px -3px 6px rgba(255,255,255,0.8), 
              inset 3px 3px 8px rgba(173, 216, 230, 0.5);
}

/* Randomized sizes, positions, and delays */
.bubbles span:nth-child(1) { left: 5%;  width: 40px; height: 40px; animation-delay: 0s; }
.bubbles span:nth-child(2) { left: 15%; width: 15px; height: 15px; animation-delay: 3s; }
.bubbles span:nth-child(3) { left: 25%; width: 25px; height: 25px; animation-delay: 6s; }
.bubbles span:nth-child(4) { left: 35%; width: 60px; height: 60px; animation-delay: 1s; }
.bubbles span:nth-child(5) { left: 45%; width: 20px; height: 20px; animation-delay: 4s; }
.bubbles span:nth-child(6) { left: 55%; width: 80px; height: 80px; animation-delay: 2s; }
.bubbles span:nth-child(7) { left: 65%; width: 18px; height: 18px; animation-delay: 5s; }
.bubbles span:nth-child(8) { left: 75%; width: 50px; height: 50px; animation-delay: 7s; }
.bubbles span:nth-child(9) { left: 85%; width: 15px; height: 15px; animation-delay: 3.5s; }
.bubbles span:nth-child(10){ left: 95%; width: 35px; height: 35px; animation-delay: 6.5s; }
.bubbles span:nth-child(11){ left: 12%; width: 25px; height: 25px; animation-delay: 8s; }
.bubbles span:nth-child(12){ left: 28%; width: 70px; height: 70px; animation-delay: 4.5s; }
.bubbles span:nth-child(13){ left: 52%; width: 22px; height: 22px; animation-delay: 1.5s; }
.bubbles span:nth-child(14){ left: 68%; width: 45px; height: 45px; animation-delay: 5.5s; }
.bubbles span:nth-child(15){ left: 82%; width: 30px; height: 30px; animation-delay: 9s; }

@keyframes rise {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0;
  }
  10% {
    opacity: 0.9; /* More visible */
  }
  100% {
    transform: translateY(-130vh) scale(0.7);
    opacity: 0;
  }
}
